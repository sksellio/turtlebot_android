task wrapper(type: Wrapper) {
  gradleVersion = '1.5'
}

allprojects {
  group 'ros.turtlebot_android'
  version = '0.0.0-SNAPSHOT'
}

subprojects {
  repositories {
    mavenLocal()
    mavenCentral()
  }

  configurations.add('compile') {
    exclude group: 'junit'
    exclude group: 'xml-apis'
  }

  task deployLibs(type: Copy) {
    from { configurations.compile }
    into "${projectDir}/libs"
  }

  task clean << {
    ant.delete file: "${projectDir}/local.properties"
    ant.delete file: "${projectDir}/proguard-project.txt"
    ant.delete file: "${projectDir}/build.xml"
    ant.delete dir: "${projectDir}/bin"
    ant.delete dir: "${projectDir}/gen"
    ant.delete dir: "${projectDir}/libs"
  }

    task updateProject(type: Exec) {
      commandLine 'android', 'update', 'project', '-p', projectDir
    }

  task debug(type: Exec) {
    dependsOn updateProject, deployLibs
    commandLine 'ant', 'debug'
  }
}
